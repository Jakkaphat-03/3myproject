<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8" />
    <title>ฟอร์มจองตั๋วกิจกรรม</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Archivo+Black&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Prompt:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Sarabun:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap');
        * {
            font-family: 'Prompt', sans-serif;
        }
    </style>
</head>

<body class="bg-gradient-to-b from-blue-100 via-white to-blue-100 min-h-screen flex items-center justify-center p-4">

    <form id="bookingForm" class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-md space-y-5 border border-gray-200">
        <h1 class="text-2xl font-bold text-center text-blue-700">ฟอร์มจองตั๋วกิจกรรม</h1>

        <div>
            <label class="block font-medium text-gray-700 mb-1">
                ชื่อ-นามสกุล <span class="text-red-500">*</span>
            </label>
            <input type="text" id="fullname"
                class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="กรอกชื่อ-นามสกุล" required />
            <span id="fullnameError" class="text-red-600 text-sm mt-1 block"></span>
        </div>

        <div>
            <label class="block font-medium text-gray-700 mb-1">
                เบอร์โทรศัพท์ <span class="text-red-500">*</span>
            </label>
            <input type="tel" id="phone"
                class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="เช่น 082304XXXX" required />
            <span id="phoneError" class="text-red-600 text-sm mt-1 block"></span>
        </div>

        <div>
            <label class="block font-medium text-gray-700 mb-1">ประเภทตั๋ว</label>
            <select id="ticketType"
                class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
                <option value="ปกติ">ปกติ</option>
                <option value="VIP">VIP</option>
                <option value="Premium">Premium</option>
            </select>
        </div>

        <div>
            <label class="block font-medium text-gray-700 mb-1">
                จำนวนตั๋ว <span class="text-red-500">*</span>
            </label>
            <input type="number" id="quantity"
                class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="1 - 5 ใบ" required />
            <span id="quantityError" class="text-red-600 text-sm mt-1 block"></span>
        </div>
       
        <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-md font-semibold">
            ยืนยันการจอง
        </button>
    </form>

    <div id="successModal" class="hidden fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50">
        <div class="bg-white p-6 rounded-lg shadow-lg w-80 text-center space-y-4">
            <h2 class="text-xl font-bold text-green-600">✅ จองตั๋วสำเร็จ</h2>
            <p id="modalMessage" class="text-gray-800"></p>
            <button id="closeModal" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">ปิด</button>
        </div>
    </div>

    <script>
        const form = document.getElementById("bookingForm");
        const modal = document.getElementById("successModal");
        const modalMessage = document.getElementById("modalMessage");
        const closeModal = document.getElementById("closeModal");

        form.addEventListener("submit", function (e) {
            e.preventDefault();

            const fullname = document.getElementById("fullname");
            const phone = document.getElementById("phone");
            const ticketType = document.getElementById("ticketType").value;
            const quantity = parseInt(document.getElementById("quantity").value);

            let valid = true;
            
            document.getElementById("fullnameError").textContent = "";
            document.getElementById("phoneError").textContent = "";
            document.getElementById("quantityError").textContent = "";
            
            const nameValue = fullname.value.trim();
            const nameParts = nameValue.split(/\s+/);
            if (nameValue === "") {
                document.getElementById("fullnameError").textContent = "กรุณากรอกชื่อ-นามสกุล";
                valid = false;
            } else if (nameParts.length < 2) {
                document.getElementById("fullnameError").textContent = "กรุณากรอกชื่อ-นามสกุลอย่างน้อย 2 คำ";
                valid = false;
            }
            
            const phoneValue = phone.value.trim();
            if (!/^0\d{9}$/.test(phoneValue)) {
                document.getElementById("phoneError").textContent = "กรุณาใส่เลขให้ครบ 10 หลัก ตัวอย่าง: 082304XXXX";
                valid = false;
            }

            if (isNaN(quantity) || quantity < 1 || quantity > 5) {
                document.getElementById("quantityError").textContent = "กรุณาระบุจำนวนระหว่าง 1 ถึง 5";
                valid = false;
            } else if ((ticketType === "VIP" || ticketType === "Premium") && quantity > 2) {
                document.getElementById("quantityError").textContent = "VIP หรือ Premium จำกัดไม่เกิน 2 ใบ";
                valid = false;
            }
            
            if (valid) {
                modalMessage.textContent = `จำนวน: ${quantity} ประเภท: ${ticketType}`;
                modal.classList.remove("hidden");
            }
        });
        
        closeModal.addEventListener("click", () => modal.classList.add("hidden"));
        modal.addEventListener("click", e => {
            if (e.target === modal) modal.classList.add("hidden");
        });
    </script>
</body>

</html>